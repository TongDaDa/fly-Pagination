"use strict";var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();(function(a,b){var c,d=Math.ceil;a.Pagination=c=function(a){var c=this;function b(){}if("[object Object]"!==Object.prototype.toString.call(a))return void console.error("options type must be Object");this._containerElement=$(".pagination"),this._pageSize=10,this._pageNum=1,this._total=0,this._showListPages=5,this._skipPageNum=5,this._onChange=b,this._onTest=b;this.bindOptionTypes(["containerElement","pageSize","pageNum","total","showListPages","onChange","onTest","skipPageNum"]),this.ul_list=$(document.createElement("UL")).addClass("fly-pagination-list"),this.div_container=$(document.createElement("DIV")).addClass("fly-pagination-wrap").append(this.ul_list),this.updateOption(a);var d=this.calcFlanksPageNumbers(),e=_slicedToArray(d,2),f=e[0],g=e[1];this.updateViewPageList(f,g);return["updateOption","bianOptionTypes","initTagElement","calcFlanksPageNumbers","updatePageNum","skipPageNum"].forEach(function(a){Object.defineProperty(Object.getPrototypeOf(c),a,{writeable:!1,configurable:!1,enmerable:!1})}),function(a){c.updateOption(a);var b=c.calcFlanksPageNumbers(),d=_slicedToArray(b,2),e=d[0],f=d[1];c.updateViewPageList(e,f)}},c.prototype.updateOption=function(a){for(var b in a)this.hasOwnProperty(b)&&(this[b]=a[b])},c.prototype.bindOptionTypes=function(a){for(var b=this,c={containerElement:function containerElement(a){b._containerElement=a},pageSize:function pageSize(a){b._pageSize=a},pageNum:function pageNum(a){b._pageNum=a},total:function total(a){b._total=a},onChange:function onChange(a){b._onChange=a},onTest:function onTest(a){b._onTest=a},skipPageNum:function skipPageNum(a){b._skipPageNum=a},showListPages:function showListPages(a){b._showListPages=a}},d=0;d<a.length;d++)Object.defineProperty(this,a[d],{set:c[a[d]]})},c.prototype.initTagElement=function(){var a=this,c=this._skipPageNum,d=$(this.initElement(b.createElement("LI"),"top")),e=$(this.initElement(b.createElement("LI"),"next")),f=$(this.initElement(b.createElement("LI"),"fly-super-up")),g=$(this.initElement(b.createElement("LI"),"fly-super-down"));return d.html("\u4E0A\u4E00\u9875").attr("title","\u4E0A\u4E00\u9875"),e.html("\u4E0B\u4E00\u9875").attr("ttile","\u4E0B\u4E00\u9875"),d.click(function(){a.updatePageNum(a._pageNum-1)}),e.click(function(){a.updatePageNum(a._pageNum+1)}),f.click(function(){a.updatePageNum(a._pageNum-c)}),g.click(function(){a.updatePageNum(a._pageNum+c)}),{topElement:d,nextElement:e,superTopElement:f,superNextElement:g}},c.prototype.initElement=function(a,b){var c=["fly-page-item"];return"number"===b?c.push("fly-page-number"):"top"===b?c.push("fly-page-top"):"next"===b?c.push("fly-page-next"):c.push(b),a.className=c.join(" ").trim(),a},c.prototype.updatePageNum=function(a){var b,c,e,f=!0,g=d(this._total/this._pageSize);this._onTest&&(f=!1!==this._onTest(a,this._pageSize));var h=["number"==typeof a,f,a!==this._pageNum];for(b=h.length;b--;)if(!h[b])return;1>a&&(a=1);a>g&&(a=g);this._pageNum=a,this._onChange(this._pageNum,this._pageSize);var i=this.calcFlanksPageNumbers(),j=_slicedToArray(i,2);c=j[0],e=j[1],this.updateViewPageList(c,e)},c.prototype.calcFlanksPageNumbers=function(){var a=Math.max,b=this._showListPages,c=d((b-1)/2),e=d(this._total/this._pageSize),f=this._pageNum,g=1,h=b,i=!0;if(0>=f-c?i=!1:f+c>e&&(g=a(e-b+1,1),h=e,i=!1),i&&(h=f+c,g=f-c),h-(g-1)>b){var j=b/2;g=a(f-j,1),h=f+j-1}return[g,Math.min(h,e)]},c.prototype.updateViewPageList=function(){var a=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,c=arguments[1];c=c||this._showListPages;var d=document.createDocumentFragment(),e=this._containerElement,f=this.ul_list,g=this.div_container,h=this.createBodyNumberPages(b,c),i=this.initTagElement(),j=i.topElement,k=i.nextElement,l=i.superTopElement,m=i.superNextElement;f.empty(),f.append(j),f.append(l),h.forEach(function(b){b[0].KEY===a._pageNum&&b.addClass("active");f.append(b)}),f.append(m),f.append(k),e.append(g.append(f))},c.prototype.createBodyNumberPages=function(a,b){for(var c=this,d=[],e=function(a){var b=document.createElement("LI");b=c.initElement(b,"number"),b.KEY=a,Object.defineProperty(b,"KEY",{configurable:!1,writable:!1,enumerable:!1}),b.innerText=a,b.onclick=function(){c.updatePageNum(a)},d.push($(b))},f=a;f<=b;f++)e(f);return HTMLDom}})(window,document);
